
<ngx-charts-chart
[view]="view"

[activeEntries]="activeEntries"
[animations]="animations"

>
<svg:defs>
  <svg:clipPath [attr.id]="clipPathId">
    <svg:rect
      [attr.width]="dims.width + 10"
      [attr.height]="dims.height + 10"
      [attr.transform]="'translate(-5, -5)'"
    />
  </svg:clipPath>
</svg:defs>
<svg:g [attr.transform]="transform" class="bubble-chart chart">
    <svg:g
    ngx-charts-x-axis
    *ngIf="xAxis"
    [xScale]="xScale"
    [dims]="dims"
    [showGridLines]="showGridLines"
    [showLabel]="showXAxisLabel"
    [labelText]="xAxisLabel"
    [trimTicks]="trimXAxisTicks"
    [rotateTicks]="rotateXAxisTicks"
    [maxTickLength]="maxXAxisTickLength"
    [tickFormatting]="xAxisTickFormatting"
    [ticks]="xAxisTicks"
    (dimensionsChanged)="updateXAxisHeight($event)"
  ></svg:g>
  <svg:g
    ngx-charts-y-axis
    *ngIf="yAxis"
    [yScale]="yScale"
    [dims]="dims"
    [showGridLines]="showGridLines"
    [showLabel]="showYAxisLabel"
    [labelText]="yAxisLabel"
    [trimTicks]="trimYAxisTicks"
    [maxTickLength]="maxYAxisTickLength"
    [tickFormatting]="yAxisTickFormatting"
    [ticks]="yAxisTicks"
    [referenceLines]="referenceLines"
    [showRefLines]="showRefLines"
    [showRefLabels]="showRefLabels"
    (dimensionsChanged)="updateYAxisWidth($event)"
  ></svg:g>
    <svg:rect
    class="bubble-chart-area"
    x="0"
    y="0"
    [attr.width]="dims.width"
    [attr.height]="dims.height"
    style="fill: rgb(255, 0, 0); opacity: 0; cursor: 'auto';"
    (mouseenter)="deactivateAll()"
  />
  <svg:g [attr.clip-path]="clipPath" *ngIf="circleResult">
    <svg:g *ngFor="let cseries of circleResult;">
      <svg:g
        ngx-charts-bubble-series
        [xScale]="xCircleScale"
        [yScale]="yCircleScale"
        [rScale]="rScale"
        [xScaleType]="xScaleType"
        [yScaleType]="yScaleType"
        [xAxisLabel]="xAxisLabel"
        [yAxisLabel]="yAxisLabel"
        [colors]="colors"
        [data]="cseries"
        [activeEntries]="activeEntries"
        [tooltipDisabled]="tooltipDisabled"
        [tooltipTemplate]="tooltipTemplate"
        (select)="onClick($event, cseries)"
        (activate)="onActivate($event)"
        (deactivate)="onDeactivate($event)"
      />
    </svg:g>
  </svg:g>
</svg:g>

<svg:g [attr.transform]="transform" class="line-chart chart">
  <svg:g
    ngx-charts-x-axis
    *ngIf="xAxis"
    [xScale]="xScale"
    [dims]="dims"
    [showGridLines]="showGridLines"
    [showLabel]="showXAxisLabel"
    [labelText]="xAxisLabel"
    [trimTicks]="trimXAxisTicks"
    [rotateTicks]="rotateXAxisTicks"
    [maxTickLength]="maxXAxisTickLength"
    [tickFormatting]="xAxisTickFormatting"
    [ticks]="xAxisTicks"
    (dimensionsChanged)="updateXAxisHeight($event)"
  ></svg:g>
  <svg:g
    ngx-charts-y-axis
    *ngIf="yAxis"
    [yScale]="yScale"
    [dims]="dims"
    [showGridLines]="showGridLines"
    [showLabel]="showYAxisLabel"
    [labelText]="yAxisLabel"
    [trimTicks]="trimYAxisTicks"
    [maxTickLength]="maxYAxisTickLength"
    [tickFormatting]="yAxisTickFormatting"
    [ticks]="yAxisTicks"
    [referenceLines]="referenceLines"
    [showRefLines]="showRefLines"
    [showRefLabels]="showRefLabels"
    (dimensionsChanged)="updateYAxisWidth($event)"
  ></svg:g>
  <svg:g [attr.clip-path]="clipPath">
    <svg:g *ngFor="let series of result; trackBy: trackBy" [@animationState]="'active'">
      <svg:g
        ngx-charts-line-series
        [xScale]="xScale"
        [yScale]="yScale"
        [colors]="colors"
        [data]="series"
        [activeEntries]="activeEntries"
        [scaleType]="scaleType"
        [curve]="curve"
        [rangeFillOpacity]="rangeFillOpacity"
        [hasRange]="hasRange"
        [animations]="animations"
      />
    </svg:g>

    <!-- <svg:g *ngIf="!tooltipDisabled" (mouseleave)="hideCircles()">
      <svg:g
        ngx-charts-tooltip-area
        [dims]="dims"
        [xSet]="xSet"
        [xScale]="xScale"
        [yScale]="yScale"
        [results]="result"
        [colors]="colors"
        [tooltipDisabled]="tooltipDisabled"
        [tooltipTemplate]="seriesTooltipTemplate"
        (hover)="updateHoveredVertical($event)"
      />
      <svg:g *ngFor="let series of result">
        <svg:g
          ngx-charts-circle-series
          [xScale]="xScale"
          [yScale]="yScale"
          [colors]="colors"
          [data]="series"
          [scaleType]="scaleType"
          [visibleValue]="hoveredVertical"
          [activeEntries]="activeEntries"
          [tooltipDisabled]="tooltipDisabled"
          [tooltipTemplate]="tooltipTemplate"
          (select)="onClick($event)"
          (activate)="onActivate($event)"
          (deactivate)="onDeactivate($event)"
        />
      </svg:g>

    </svg:g> -->
  </svg:g>
</svg:g>

</ngx-charts-chart>
